<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photowards</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900&display=swap" rel="stylesheet">
    <style>
        /* Custom Styles for Awards Page */
        .awards-container {
            max-width: 1020px;
            margin: 40px auto;
            padding: 0 20px;
            text-align: left;
        }

        .award-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .award-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .award-item:last-child {
            border-bottom: none;
        }

        .vote-buttons {
            font-size: 1.5rem;
            cursor: pointer;
            margin-right: 20px;
        }

        .award-link {
            text-decoration: none;
            color: #333;
            font-size: 1.1rem;
            font-family: 'Source Code Pro', monospace;
            transition: color 0.3s ease;
        }

        .award-link:hover {
            color: #000;
        }

        footer {
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9rem;
            background-color: #fff;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .latest-opening-entry-link {
            font-size: 1.1rem;
            color: #337ab7;
            text-decoration: none;
        }

        .deadline-text {
            font-size: 0.9rem;
            color: #666;
            margin-left: 10px;
        }
    </style>
</head>

<body>

    <header>
        <h1 class="source-code-pro-regular"><b>Photowards</b></h1>
        <p class="source-code-pro-light">A lens on all photography awards.</p>
    </header>

    <main>
        <div class="awards-container">
            <ul class="award-list" id="award-list">
                <!-- Awards will be dynamically added here -->
            </ul>
        </div>
    </main>

    <script>
        // Load the awards data from the JSON file
        fetch('awards.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                } else {
                    return response.json();
                }
            })
            .then(data => {
                const awards = data;

            // Function to render the awards list
            function renderAwards() {
                const awardList = document.getElementById('award-list');
                awardList.innerHTML = '';

                awards.forEach(award => {
                    const awardItem = document.createElement('li');
                    awardItem.classList.add('award-item');

                // Create the award link
                const awardLink = document.createElement('a');
                awardLink.href = award.url;
                awardLink.classList.add('award-link');
                awardLink.target = "_blank";
                awardLink.innerText = award.name;

                // Create the latest opening entry and deadline section
                const latestOpeningEntrySection = document.createElement('div');
                const latestOpeningEntryLink = document.createElement('a');
                latestOpeningEntryLink.href = award.latestOpeningEntry;
                latestOpeningEntryLink.classList.add('latest-opening-entry-link');
                latestOpeningEntryLink.target = "_blank";
                latestOpeningEntryLink.innerText = 'Enter Now';
                const deadlineText = document.createElement('span');
                deadlineText.classList.add('deadline-text');
                deadlineText.innerText = `Deadline: ${award.deadline}`;

                latestOpeningEntrySection.appendChild(latestOpeningEntryLink);
                latestOpeningEntrySection.appendChild(deadlineText);

                awardItem.appendChild(awardLink);
                awardItem.appendChild(latestOpeningEntrySection);
                awardList.appendChild(awardItem);
            });
        }

                // Initial rendering of the awards
                renderAwards();
            })
            .catch(error => console.error('Error loading awards data:', error));
    </script>

</body>
</html>